{% extends "layout.html" %}

{% block pageTitle %}
  Do you have a current account? - Pension Credit
{% endblock %}

{% block header %}
  {% include "includes/internal-header.html" %}
{% endblock %}




{% block content %}

{% include "includes/js-back-link.html" %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <form action="msic-all-current-accounts-summary" method="post" class="form">
      <input type="hidden" name="money-you-have-complete" value="in-progress"/>

      <h1 class="govuk-heading-xl">
        Current account details
      </h1>

      {% set count = (data["account-count"] or 0) | int %}

      <input type="hidden" name="account-count" value="{{ count + 1 }}"/>

      {{ govukInput({
        label: {
          text: "Name of bank or building society"
        },
        id: "msic-all-current-account-name",
        name: "msic-all-current-account-name-" + count,
        classes: "govuk-input--width-20"
      }) }}


            <!--------------- EED = Yes ----------------------------------------------------------------------------------------->

            {% set balanceEED %}
                  {{ govukInput({
                    label: {
                      html: "Balance on <strong>"
                        + data['claim-date-cam-date-entry-day'] + ' ' + (data['claim-date-cam-date-entry-month'] | getMonth) + ' ' + data['claim-date-cam-date-entry-year'] + "</strong>"
                    },
                    id: "msic-all-current-account-amount-EED",
                    name: "msic-all-current-account-amount-EED-" + count,
                    classes: "govuk-input--width-20"
                  }) }}
            {% endset -%}

            {% set balanceDateEED %}
            {{ govukDateInput({
              id: "msic-all-current-account-amount-EED-date-evidence",
              namePrefix: "msic-all-current-account-amount-EED-date-evidence-" + count,
              fieldset: {
                legend: {
                  text: "Date this balance is from"
                }
              },
              items: [
                {
                  name: "day",
                  classes: "govuk-input--width-2",
                  value: data["msic-all-current-account-amount-EED-date-evidence-day-" + count]
                },
                {
                  name: "month",
                  classes: "govuk-input--width-2",
                  value: data["msic-all-current-account-amount-EED-date-evidence-month-" + count]
                },
                {
                  name: "year",
                  classes: "govuk-input--width-4",
                  value: data["msic-all-current-account-amount-EED-date-evidence-year-" + count]
                }
              ]
            }) }}

            {{ govukInput({
              label: {
                html: "Balance on this date"
              },
              classes: "govuk-input--width-20",
              id: "msic-all-current-account-amount-EED",
              name: "msic-all-current-account-amount-EED-" + count
            }) }}
            {% endset -%}



            <!--------------- EED = YN ----------------------------------------------------------------------------------------->


                  {{ govukRadios({
                    classes: "govuk-radios",
                    idPrefix: "msic-all-current-account-amount-balanceEED-check",
                    name: "msic-all-current-account-amount-balanceEED-check-" + count,
                    fieldset: {
                      legend: {
                        html: "Do you know the balance of this account on <strong>"
                          + data['claim-date-cam-date-entry-day'] + ' ' + (data['claim-date-cam-date-entry-month'] | getMonth) + ' ' + data['claim-date-cam-date-entry-year'] + "</strong>"
                      }
                    },
                    hint: {
                      text: ""
                    },
                    items: [
                    {
                      value: "Yes",
                      text: "Yes",
                      checked: (data["msic-all-current-account-amount-balanceEED-check"] == "Yes"),
                      conditional: {
                        html: balanceEED
                      }
                    },
                      {
                        value: "No",
                        text: "No, I know it on a different date",
                        checked: (data["msic-all-current-account-amount-balanceEED-check"] == "No"),
                        conditional: {
                          html: balanceDateEED
                        }
                      }
                    ]
                  }) }}


                <!--------------- TODAY = YES + BALANCE ----------------------------------------------------------------------------------------->

                  {% set balanceToday %}

                    {{ govukInput({
                      label: {
                      html: "Balance <strong>" + '' | formatDate + "</strong>"
                      },
                      classes: "govuk-input--width-20",
                      id: "msic-all-current-account-amount-TODAY",
                      name: "msic-all-current-account-amount-TODAY-" + count
                    }) }}

                  {% endset -%}

                  <!--------------- TODAY = YES + BALANCE ----------------------------------------------------------------------------------------->

                    {% set balanceDateToday %}

                      {{ govukDateInput({
                        id: "msic-all-current-account-amount-today-date-evidence",
                        namePrefix: "msic-all-current-account-amount-today-date-evidence-" + count,
                        fieldset: {
                          legend: {
                            text: "Date this balance is from"
                          }
                        },
                        items: [
                          {
                            name: "day",
                            classes: "govuk-input--width-2",
                            value: data["msic-all-current-account-amount-today-date-evidence-day-" + count]
                          },
                          {
                            name: "month",
                            classes: "govuk-input--width-2",
                            value: data["msic-all-current-account-amount-today-date-evidence-month-" + count]
                          },
                          {
                            name: "year",
                            classes: "govuk-input--width-4",
                            value: data["msic-all-current-account-amount-today-date-evidence-year-" + count]
                          }
                        ]
                      }) }}

                      {{ govukInput({
                        label: {
                          html: "Balance on this date"
                        },
                        classes: "govuk-input--width-20",
                        id: "msic-all-current-account-amount-TODAY",
                        name: "msic-all-current-account-amount-TODAY-" + count
                      }) }}

                    {% endset -%}



                <!--------------- TODAY = YN ----------------------------------------------------------------------------------------->



                {{ govukRadios({
                  classes: "govuk-radios",
                  idPrefix: "msic-all-current-account-amount-balanceTODAY-check",
                  name: "msic-all-current-account-amount-balanceTODAY-check-" + count,
                  fieldset: {
                    legend: {
                      html: "Do you know the balance on <strong>" + '' | formatDate + "</strong>"
                    }
                  },
                  hint: {
                    text: ""
                  },
                  items: [
                  {
                    value: "Yes",
                    text: "Yes",
                    checked: (data["msic-all-current-account-amount-balanceTODAY-check"] == "Yes"),
                    conditional: {
                      html: balanceToday
                    }
                  },
                    {
                      value: "No",
                      text: "No, I know it on a different date",
                      checked: (data["msic-all-current-account-amount-balanceTODAY-check"] == "No"),
                      conditional: {
                        html: balanceDateToday
                      }
                    }
                  ]
                }) }}





                  <!--------------- OTHER DETIALS ----------------------------------------------------------------------------------------->

      {% set percentageField %}
        {{ govukInput({
          label: {
            text: "Amount of money that is yours"
          },
          id: "msic-all-current-account-stake",
          name: "msic-all-current-account-stake-" + count,
          classes: "govuk-input--width-10"
        }) }}
      {% endset %}

      {{ govukRadios({
        idPrefix: "current-owner",
        name: "current-owner-" + count,
        fieldset: {
          legend: {
            text: "Account owner",
            classes: "govuk-fieldset__legend--s"
          }
        },
        items: [
          {
            value: "You",
            text: "Only you"
          },
          {
            value: "Joint account",
            text: "Joint account",
            conditional: {
              html: percentageField
            }
          }
        ]
      }) }}



<br>

      {{ govukButton({
        text: "Continue"
      }) }}
    </form>

    <p class="govuk-body govuk-!-padding-top-6"><a href="eject-error-reason">Save claim and exit</a></p>

    </div>
    </div>
{% endblock %}
