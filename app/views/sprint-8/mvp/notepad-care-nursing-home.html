{% extends "layout.html" %}

{% block pageTitle %}
  NotePad - Area
{% endblock %}

{% block header %}
  {% include "includes/internal-header.html" %}
{% endblock %}

{% from "textarea/macro.njk" import govukTextarea %}


{% block content %}

{% include "includes/js-back-link.html" %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <form action="address-summary" method="post">


        <h1 class="govuk-heading-xl">Care home or nursing home details</h1>

<br>

{% from "date-input/macro.njk" import govukDateInput %}

{{ govukDateInput({
  id: "notepad-care-nursing-home-admission-date",
  namePrefix: "notepad-care-nursing-home-admission-date",
  fieldset: {
    legend: {
      text: "What date were you admitted?",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--m"
    }
  },
  hint: {
    text: "For example, 31 12 2018."
  },
  items: [
    {
      name: "day",
      classes: "govuk-input--width-2",
      value: data["admission-date-day"]
    },
    {
      name: "month",
      classes: "govuk-input--width-2",
      value: data["admission-date-month"]
    },
    {
      name: "year",
      classes: "govuk-input--width-4",
      value: data["admission-date-year"]
    }
  ]
}) }}

<br>

{% set today = '' | formatDate %}

{% set altDate %}
  {{ govukDateInput({
    id: "dischargeDate",
    namePrefix: "dischargeDate",
    fieldset: {
      legend: {
        text: "What date do you expect to be discharged?"
      }
    },
    hint: {
      text: "For example, 31 12 2018."
    },
    items: [
      {
        name: "day",
        classes: "govuk-input--width-2",
        value: data["discharge-date-day"]
      },
      {
        name: "month",
        classes: "govuk-input--width-2",
        value: data["discharge-date-month"]
      },
      {
        name: "year",
        classes: "govuk-input--width-4",
        value: data["discharge-date-year"]
      }
    ]
  }) }}
{% endset %}




{{ govukRadios({
  classes: "govuk-radios",
  idPrefix: "notepad-care-nursing-home-status",
  name: "notepad-care-nursing-home-status",
  fieldset: {
    legend: {
      text: "Do you live there permanently or temporarily?",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--m"
    }
  },

  items: [
  {
    value: "Permanent",
    text: "Permanently",
    checked: (data["notepad-care-nursing-home-status"] == "Permanent")
  },
  {
    value: "Don't know",
    text: "Do not know (Add details to notes)",
    checked: (data["notepad-care-nursing-home-status"] == "Dont know")
  },
    {
      value: "Temporary",
      text: "Temporarily",
      checked: (data["dischargeDate"] == "Temporary"),
      conditional: {
        html: altDate
      }
    }
  ]
}) }}

<br>

{{ govukRadios({
  idPrefix: "notepad-care-nursing-home-funding",
  name: "notepad-care-nursing-home-funding",
  fieldset: {
    legend: {
      text: "How is your stay paid for?",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--m"
    }
  },

  items: [
    {
      value: "Local authority",
      text: "Local authority",
      checked: (data["notepad-care-nursing-home-funding"] == "Local authority")
    },
    {
      value: "Self-funded",
      text: "Self-funded",
      checked: (data["notepad-care-nursing-home-funding"] == "Self-funded")
    },
    {
      value: "Part Local authority and Self-funded",
      text: "Part Local authority and Self-funded",
      checked: (data["notepad-care-nursing-home-funding"] == "Part Local authority and part self-funded")
    },
    {
      value: "Other",
      text: "Other (Add details to notes)",
      checked: (data["notepad-care-nursing-home-funding"] == "Other")
    }
  ]
}) }}

<br>

{{ govukRadios({
  idPrefix: "notepad-care-nursing-home-property",
  name: "notepad-care-nursing-home-property",
  fieldset: {
    legend: {
      text: "Do you own a residential property?",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--m"
    }
  },

  items: [
    {
      value: "Yes",
      text: "Yes",
      checked: (data["notepad-care-nursing-home-property"] == "Yes")
    },
    {
      value: "No",
      text: "No",
      checked: (data["notepad-care-nursing-home-property"] == "No")
    },
    {
      value: "Other",
      text: "Other (Add details to notes)",
      checked: (data["notepad-care-nursing-home-property"] == "Other")
    }
  ]
}) }}


<br>

<ul class="govuk-list">
  <li>
    Notes
  </li>
</ul>


        {{ govukTextarea({
          name: "notepad-care-nursing-home-more-detail",
          id: "carehome-more-detail",

          value: data["notepad-care-nursing-home-more-detail"]
        }) }}


        {{ govukButton({
          text: "Continue"
        }) }}
      </form>

      <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">
      <p class="govuk-body">Can't complete this page? <a href="task-list">Save and return later. (Mark as in-progress)</a></p>

    </div>
  </div>
{% endblock %}

<!-- Ask the claimant for all the information you need, including:

the date they were admitted
whether their stay is temporary or permanent
if the stay is temporary, the date they expect to be discharged
whether their stay is funded by the local authority, self-funded or both
whether they still own a property? (Mark: Can this be a separate check box to tailor the question in the capital section?)-->
