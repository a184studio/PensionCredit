{% extends "layout.html" %}

{% block pageTitle %}
  NotePad - Area
{% endblock %}

{% block header %}
  {% include "includes/internal-header.html" %}
{% endblock %}

{% from "textarea/macro.njk" import govukTextarea %}


{% block content %}

{% include "includes/js-back-link.html" %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <form action="address-summary" method="post">

        <span class="govuk-caption-m">Agent notes page</span>
        <h1 class="govuk-heading-xl">Carehome or nursing home: Details</h1>

<br>

{% from "date-input/macro.njk" import govukDateInput %}

{{ govukDateInput({
  id: "passport-issued",
  namePrefix: "notepad-care-nursing-home-date",
  fieldset: {
    legend: {
      text: "What was the date they were admitted?",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--m"
    }
  },
  hint: {
    text: "For example, 12 11 2007"
  }
}) }}

<br>

{% set today = '' | formatDate %}

{% set altDate %}
  {{ govukDateInput({
    id: "discharge-date",
    namePrefix: "discharge-date",
    fieldset: {
      legend: {
        text: "Discharge date @pete"
      }
    },
    hint: {
      text: "For example, 31 12 2018."
    },
    items: [
      {
        name: "day",
        classes: "govuk-input--width-2",
        value: data["discharge-date-day"]
      },
      {
        name: "month",
        classes: "govuk-input--width-2",
        value: data["discharge-date-month"]
      },
      {
        name: "year",
        classes: "govuk-input--width-4",
        value: data["discharge-date-year"]
      }
    ]
  }) }}
{% endset %}

{{ govukRadios({
  classes: "govuk-radios",
  idPrefix: "notepad-care-nursing-home-status",
  name: "notepad-care-nursing-home-status",
  fieldset: {
    legend: {
      text: "When do you want your claim to start?",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--m"
    }
  },
  hint: {
  text: "You can backdate your claim by up to 3 months, or claim up to 4 months before you reach State Pension age. Your claim will be based on your situation at the date your claim starts. "
  },
  items: [
  {
    value: "Permanent",
    text: "Permanent",
    checked: (data["notepad-care-nursing-home-status"] == "Permanent")
  },
  {
    value: "Don't know",
    text: "Don't know (Add detials to notes)",
    checked: (data["notepad-care-nursing-home-status"] == "Dont know")
  },
    {
      value: "Temporary",
      text: "Temporary (if the stay is temporary, the date they expect to be discharged)",
      checked: (data["discharge-date"] == "Temporary"),
      conditional: {
        html: altDate
      }
    }
  ]
}) }}

<br>

{{ govukRadios({
  idPrefix: "notepad-care-nursing-home-funding",
  name: "notepad-care-nursing-home-funding",
  fieldset: {
    legend: {
      text: "How is this residence funded?",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--m"
    }
  },
  hint: {
    text: "XXXX"
  },
  items: [
    {
      value: "Local authority",
      text: "Local authority",
      checked: (data["notepad-care-nursing-home-funding"] == "Local authority")
    },
    {
      value: "Self-funded",
      text: "Self-funded",
      checked: (data["notepad-care-nursing-home-funding"] == "Self-funded")
    },
    {
      value: "Part Local authority and Self-funded",
      text: "Part Local authority and Self-funded",
      checked: (data["notepad-care-nursing-home-funding"] == "Part Local authority and Self-funded")
    },
    {
      value: "Other",
      text: "Other (Add details to notes)",
      checked: (data["notepad-care-nursing-home-funding"] == "Other")
    }
  ]
}) }}

<br>

{{ govukRadios({
  idPrefix: "notepad-care-nursing-home-property",
  name: "notepad-care-nursing-home-property",
  fieldset: {
    legend: {
      text: "Do you still own a property?",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--m"
    }
  },
  hint: {
    text: "Can this be a separate check box to tailor the question in the capital section?, @pete, yeah. Make a tag to say in property, "
  },
  items: [
    {
      value: "Yes",
      text: "Yes",
      checked: (data["notepad-care-nursing-home-property"] == "Yes")
    },
    {
      value: "No",
      text: "No",
      checked: (data["notepad-care-nursing-home-property"] == "No")
    },
    {
      value: "Other",
      text: "Other (Add details to notes)",
      checked: (data["notepad-care-nursing-home-property"] == "Other")
    }
  ]
}) }}


<br>

<ul class="govuk-list">
  <li>
    Notes
  </li>
</ul>


        {{ govukTextarea({
          name: "notepad-care-nursing-home-more-detail",
          id: "carehome-more-detail",

          value: data["notepad-care-nursing-home-more-detail"]
        }) }}


        {{ govukButton({
          text: "Continue"
        }) }}
      </form>

      <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">
      <p class="govuk-body">Can't complete this page? <a href="task-list">Save and return later. (Mark as in-progress)</a></p>

    </div>
  </div>
{% endblock %}

<!-- Ask the claimant for all the information you need, including:

the date they were admitted
whether their stay is temporary or permanent
if the stay is temporary, the date they expect to be discharged
whether their stay is funded by the local authority, self-funded or both
whether they still own a property? (Mark: Can this be a separate check box to tailor the question in the capital section?)-->
